define({name:"models/settings",requires:["core/storage/idb","core/event"],def:function modelsSettings(h){var f=h.core.event,m=h.core.storage.idb,j="settings",d=Object.freeze({pressure:1013.25}),b={};function g(){m.add(j,b);}function i(n,e){if(n!==undefined&&e!==undefined){b[n]=e;g();return true;}return false;}function a(e){if(b[e]===undefined){return null;}return b[e];}function l(){m.get(j);}function k(e){if(e.detail.key!==j){return;}if(typeof e.detail.value!=="object"){b={pressure:d.pressure};g();}else{b=e.detail.value;}}function c(){if(m.isReady()){l();}else{f.listen("core.storage.idb.open",l);}}f.listeners({"core.storage.idb.read":k});return{init:c,get:a,set:i};}});