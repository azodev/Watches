define({name:"models/motion",requires:["core/event","core/window"],def:function modelsMotion(H,q){var A=H,n="ACCELERATION",w="NotSupportedError",E=5,m=null,a=null,d=null,s=[],C=0,z={accelerationIncludingGravity:{x:0,y:0}},l={accelerationIncludingGravity:{x:0,y:0}},j={accelerationIncludingGravity:{x:null,y:null}};var h={sampleInterval:100,maxBatchCount:1000};var J=false;var k=0;var G=null;var v=false;function f(){J=true;}function p(K){console.error("Motion sensor start error: ",K);}function u(K){try{s.push(K.accelerationIncludingGravity);k=0;C=s.length;if(C<=E){z.accelerationIncludingGravity.x=s.reduce(function(L,M){return L+M.x;},k)/C;z.accelerationIncludingGravity.y=s.reduce(function(L,M){return L+M.y;},k)/C;z.accelerationIncludingGravity.z=s.reduce(function(L,M){return L+M.z;},k)/C;}else{l=s.shift();z.accelerationIncludingGravity.x+=(K.accelerationIncludingGravity.x-l.x)/C;z.accelerationIncludingGravity.y+=(K.accelerationIncludingGravity.y-l.y)/C;z.accelerationIncludingGravity.z+=(K.accelerationIncludingGravity.z-l.z)/C;}return z;}catch(e){z=K;}}function o(e){j.accelerationIncludingGravity={x:e.x,y:e.y,z:e.z};u(j);if(!v){v=true;}H.fire("change",I());}function D(e){j.accelerationIncludingGravity.x=e.x;j.accelerationIncludingGravity.y=e.y;j.accelerationIncludingGravity.z=e.z;}function i(){a.start(f,p);}function y(){a.stop();J=false;}function x(){return J;}function g(){return v;}function t(){try{a.setChangeListener(o,h.sampleInterval,h.maxBatchCount);}catch(K){a.setChangeListener(o);}}function F(e){e=e;}function c(){return j;}function I(){return z;}function r(){return !!a;}function b(){}function B(){b();m=tizen.sensorservice||(q.webapis&&q.webapis.sensorservice)||null;if(!m){A.fire("error",{type:"notavailable"});}else{try{a=m.getDefaultSensor(n);a.getMotionSensorData(D);}catch(e){if(e.type===w){A.fire("error",{type:"notsupported"});}else{A.fire("error",{type:"unknown"});}}}G=document.querySelector("div.menuHolder");}return{init:B,start:i,stop:y,isStarted:x,isAvailable:r,setChangeListener:t,getSensorValue:c,getSensorValueAvg:I,setOptions:F,isMotionFound:g};}});