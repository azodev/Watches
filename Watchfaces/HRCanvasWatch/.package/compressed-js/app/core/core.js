(function core(q){var j={},p=q.document,c=p.getElementsByTagName("head")[0],v={},f={defaultPath:"./js/",basePath:null,modulePath:null};function w(x){this.name=x;return;}function b(y){var x=y.lastIndexOf("/"),z=y.substr(0,x+1);return z||"./";}function m(B,z){var A=0,y=B.length,x=true;for(A=0;A<y;A+=1){x=x&&(z.indexOf(B[A])!==-1);}return x;}function u(A){var z=null,C=[],y=[],x={},B=null;for(z in A){if(A.hasOwnProperty(z)){if(A[z].instance){y.push(z);}else{C.push(z);}}}while(C.length>0){B=C.shift();if(x[B]&&x[B]<=C.length){throw new Error("No support for circular module dependency.");}x[B]=C.length;if(m(A[B].requires,y)){y.push(B);}else{C.push(B);}}return y;}function t(y,x){var z=null;for(z in x){if(x.hasOwnProperty(z)){Object.defineProperty(y,z,{value:x[z]});}}return y;}function n(z,y){var x=y.length;switch(x){case 0:return new z();case 1:return new z(y[0]);case 2:return new z(y[0],y[1]);case 3:return new z(y[0],y[1],y[2]);case 4:return new z(y[0],y[1],y[2],y[3]);case 5:return new z(y[0],y[1],y[2],y[3],y[4]);default:return z.apply(Object.create(z.prototype),y);}}function s(y,x){var A=null,z=null;A=n(y,x);if(!A){A={};}z=Object.getPrototypeOf(A);if(z!==null&&!Object.prototype.isPrototypeOf(z)){A=t(Object.create(y.prototype),A);}return A;}function k(B,x,A){var z,y=x.pop();for(z=0;z<x.length;z+=1){B=B[x[z]]=B[x[z]]||{};}B[y]=A;}function d(y,z){var x=z.instance;if(z.name==="core/event"){x=Object.create(z.instance);x.evName=y.replace(/\//g,".");}return x;}function o(z){var C=z.def,A=z.requires,D=[],B={},x=null,y=0;if(C.length===1&&A.length>1){for(y=A.length-1;y>=0;y-=1){x=d(z.name,v[A[y]]);B[A[y]]=x;k(B,A[y].split("/"),x);}D.push(B);}else{if(C.length===A.length){for(y=A.length-1;y>=0;y-=1){D[y]=d(z.name,v[A[y]]);}}else{if(C.length!==0){throw new Error("Invalid number of params in "+C.name+"- expected "+A.length+" but is "+C.length);}}}return D;}function g(){var B=0,x=[],A=0,y="",z=null;x=u(v);A=x.length;for(B=0;B<A;B+=1){y=x[B];z=v[y];if(z.instance===undefined){z.initialized=false;z.def.prototype=new w(y);v[y].instance=s(z.def,o(z));}}for(B=0;B<A;B+=1){y=x[B];z=v[y];if(z.instance!==undefined&&!z.initialized){if(typeof v[y].instance.init==="function"){v[y].instance.init();z.initialized=true;}}}}function i(x){var y=v[x];if(y===undefined){throw new Error("Module "+x+" must be defined.");}if(y.instance===undefined){throw new Error("The instance of "+x+" doesn't exist yet.");}return y.instance;}function l(z){var x=null;x=p.createElement("script");x.setAttribute("src",z);x.addEventListener("error",function y(){throw new Error('Failed to load "'+z+'" script');});c.appendChild(x);}function h(x){var y="";if(v[x]!==undefined){return false;}v[x]={};if(x.indexOf("core")===0){y=f.basePath||f.defaultPath;}else{y=f.modulePath||f.defaultPath;}l(y+x+".js");return true;}function r(){var x=null,y=[];for(x in v){if(v.hasOwnProperty(x)&&v[x].name===undefined){y.push(x);}}if(y.length===0){g();}}function a(z){var y=0,x=0;z=z||{};if(z.name===undefined||z.def===undefined){throw new Error("Module must have name and definition");}if(v[z.name]!==undefined&&v[z.name].name!==undefined){throw new Error('Module "'+z.name+'" is already defined');}z.requires=z.requires||[];v[z.name]=z;for(y=0,x=z.requires.length;y<x;y+=1){h(z.requires[y]);}r();return true;}function e(){var A=0,y=0,x=p.getElementsByTagName("script"),z=null,B=null;for(A=0,y=x.length;A<y;A+=1){z=x[A];B=z.getAttribute("data-main");if(B){f.modulePath=b(B);f.basePath=b(z.getAttribute("src"));l(B);return true;}}return true;}j={require:i,define:a};t(q,j);e();}(this));